{"ast":null,"code":"var _jsxFileName = \"/Users/mariarodriguez/Desktop/supply-chain-visualizer/frontend/src/pages/Connections.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/Connections.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Table, Form, Button, Badge, Spinner, Alert } from 'react-bootstrap';\nimport { FaPlus, FaSearch, FaEdit, FaTrashAlt, FaSyncAlt } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\nimport NodeService from '../services/node.service';\nimport ConnectionService from '../services/connection.service';\nimport PageHeader from '../components/common/PageHeader';\nimport ConnectionModal from '../components/map/ConnectionModal';\nimport DeleteConfirmModal from '../components/common/DeleteConfirmModal';\nimport './Connections.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Connections = () => {\n  _s();\n  const [connections, setConnections] = useState([]);\n  const [nodes, setNodes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterTransportType, setFilterTransportType] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n\n  // Modal states\n  const [showModal, setShowModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedConnection, setSelectedConnection] = useState(null);\n  useEffect(() => {\n    loadConnectionsData();\n  }, []);\n  const loadConnectionsData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const [connectionsResponse, nodesResponse] = await Promise.all([ConnectionService.getAllConnections(), NodeService.getAllNodes()]);\n\n      // Enrich connections with node names\n      const enhancedConnections = connectionsResponse.data.map(connection => {\n        const source = nodesResponse.data.find(node => node.id === connection.sourceId);\n        const target = nodesResponse.data.find(node => node.id === connection.targetId);\n        return {\n          ...connection,\n          sourceName: (source === null || source === void 0 ? void 0 : source.name) || `Node ID: ${connection.sourceId}`,\n          targetName: (target === null || target === void 0 ? void 0 : target.name) || `Node ID: ${connection.targetId}`\n        };\n      });\n      setConnections(enhancedConnections);\n      setNodes(nodesResponse.data);\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load connections data');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n  const handleEdit = connection => {\n    setSelectedConnection(connection);\n    setShowModal(true);\n  };\n  const handleDelete = connection => {\n    setSelectedConnection(connection);\n    setShowDeleteModal(true);\n  };\n  const handleAddNew = () => {\n    setSelectedConnection(null);\n    setShowModal(true);\n  };\n  const handleModalSave = async connectionData => {\n    try {\n      if (connectionData.id) {\n        // Update existing connection\n        await ConnectionService.updateConnection(connectionData.id, connectionData);\n      } else {\n        // Create new connection\n        await ConnectionService.createConnection(connectionData);\n      }\n\n      // Reload connections data\n      loadConnectionsData();\n\n      // Close modal\n      setShowModal(false);\n    } catch (err) {\n      console.error('Failed to save connection:', err);\n      alert('Failed to save connection. Please try again.');\n    }\n  };\n  const handleConfirmDelete = async () => {\n    if (!selectedConnection) return;\n    try {\n      await ConnectionService.deleteConnection(selectedConnection.id);\n\n      // Remove from local state\n      setConnections(connections.filter(connection => connection.id !== selectedConnection.id));\n\n      // Close modal\n      setShowDeleteModal(false);\n    } catch (err) {\n      console.error('Failed to delete connection:', err);\n      alert('Failed to delete connection. Please try again.');\n    }\n  };\n\n  // Apply filters and search\n  const filteredConnections = connections.filter(connection => {\n    var _connection$sourceNam, _connection$targetNam;\n    const matchesSearch = searchTerm === '' || ((_connection$sourceNam = connection.sourceName) === null || _connection$sourceNam === void 0 ? void 0 : _connection$sourceNam.toLowerCase().includes(searchTerm.toLowerCase())) || ((_connection$targetNam = connection.targetName) === null || _connection$targetNam === void 0 ? void 0 : _connection$targetNam.toLowerCase().includes(searchTerm.toLowerCase())) || connection.id.toString().includes(searchTerm);\n    const matchesTransportType = filterTransportType === '' || connection.transportationType === filterTransportType;\n    const matchesStatus = filterStatus === '' || connection.status === filterStatus;\n    return matchesSearch && matchesTransportType && matchesStatus;\n  });\n  const getStatusBadge = status => {\n    switch (status) {\n      case 'active':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"success\",\n          children: \"Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 16\n        }, this);\n      case 'delayed':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"danger\",\n          children: \"Delayed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 16\n        }, this);\n      case 'at_capacity':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"warning\",\n          children: \"At Capacity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 16\n        }, this);\n      case 'inactive':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"secondary\",\n          children: \"Inactive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"info\",\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Show loading spinner\n  if (loading && connections.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center my-5\",\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3\",\n          children: \"Loading connections data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show error message\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-5\",\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n            children: \"Error Loading Connections\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-danger\",\n            onClick: loadConnectionsData,\n            children: \"Try Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Network Connections\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"me-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"position-relative\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"Search connections...\",\n                      value: searchTerm,\n                      onChange: e => setSearchTerm(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(FaSearch, {\n                      className: \"search-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"me-3\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                    value: filterTransportType,\n                    onChange: e => setFilterTransportType(e.target.value),\n                    \"aria-label\": \"Filter by Transport Type\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"All Transport Types\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"truck\",\n                      children: \"Truck\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"train\",\n                      children: \"Train\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"air\",\n                      children: \"Air\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"ship\",\n                      children: \"Ship\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                    value: filterStatus,\n                    onChange: e => setFilterStatus(e.target.value),\n                    \"aria-label\": \"Filter by Status\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"All Statuses\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"active\",\n                      children: \"Active\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"delayed\",\n                      children: \"Delayed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"at_capacity\",\n                      children: \"At Capacity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"inactive\",\n                      children: \"Inactive\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  className: \"me-2\",\n                  onClick: loadConnectionsData,\n                  children: [/*#__PURE__*/_jsxDEV(FaSyncAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this), \" Refresh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  onClick: handleAddNew,\n                  children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 21\n                  }, this), \" Add Connection\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              responsive: true,\n              hover: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"From\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"To\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Transport Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Travel Time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Distance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: filteredConnections.length > 0 ? filteredConnections.map(connection => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: connection.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/nodes/${connection.sourceId}`,\n                      children: connection.sourceName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/nodes/${connection.targetId}`,\n                      children: connection.targetName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: connection.transportationType || 'Not specified'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: connection.travelTime ? `${connection.travelTime} hours` : 'Not specified'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: connection.distance ? `${connection.distance} km` : 'Not specified'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: getStatusBadge(connection.status)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-primary\",\n                      size: \"sm\",\n                      className: \"me-1\",\n                      onClick: () => handleEdit(connection),\n                      title: \"Edit\",\n                      children: /*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-danger\",\n                      size: \"sm\",\n                      onClick: () => handleDelete(connection),\n                      title: \"Delete\",\n                      children: /*#__PURE__*/_jsxDEV(FaTrashAlt, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this)]\n                }, connection.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"8\",\n                    className: \"text-center py-4\",\n                    children: \"No connections found. Adjust your filters or add a new connection.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConnectionModal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      connection: selectedConnection,\n      nodes: nodes,\n      onSave: handleModalSave,\n      isNew: !selectedConnection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteConfirmModal, {\n      show: showDeleteModal,\n      onHide: () => setShowDeleteModal(false),\n      onConfirm: handleConfirmDelete,\n      title: \"Delete Connection\",\n      message: `Are you sure you want to delete this connection? This action cannot be undone.`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n_s(Connections, \"ardJ46cgRcxXD1sT31d948x/OqM=\");\n_c = Connections;\nexport default Connections;\nvar _c;\n$RefreshReg$(_c, \"Connections\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Table","Form","Button","Badge","Spinner","Alert","FaPlus","FaSearch","FaEdit","FaTrashAlt","FaSyncAlt","Link","NodeService","ConnectionService","PageHeader","ConnectionModal","DeleteConfirmModal","jsxDEV","_jsxDEV","Connections","_s","connections","setConnections","nodes","setNodes","loading","setLoading","error","setError","searchTerm","setSearchTerm","filterTransportType","setFilterTransportType","filterStatus","setFilterStatus","showModal","setShowModal","showDeleteModal","setShowDeleteModal","selectedConnection","setSelectedConnection","loadConnectionsData","connectionsResponse","nodesResponse","Promise","all","getAllConnections","getAllNodes","enhancedConnections","data","map","connection","source","find","node","id","sourceId","target","targetId","sourceName","name","targetName","err","console","handleEdit","handleDelete","handleAddNew","handleModalSave","connectionData","updateConnection","createConnection","alert","handleConfirmDelete","deleteConnection","filter","filteredConnections","_connection$sourceNam","_connection$targetNam","matchesSearch","toLowerCase","includes","toString","matchesTransportType","transportationType","matchesStatus","status","getStatusBadge","bg","children","fileName","_jsxFileName","lineNumber","columnNumber","length","className","animation","role","variant","Heading","onClick","fluid","title","Body","Group","Control","type","placeholder","value","onChange","e","Select","responsive","hover","to","travelTime","distance","size","colSpan","show","onHide","onSave","isNew","onConfirm","message","_c","$RefreshReg$"],"sources":["/Users/mariarodriguez/Desktop/supply-chain-visualizer/frontend/src/pages/Connections.js"],"sourcesContent":["// frontend/src/pages/Connections.js\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Table, Form, Button, Badge, Spinner, Alert } from 'react-bootstrap';\nimport { FaPlus, FaSearch, FaEdit, FaTrashAlt, FaSyncAlt } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\nimport NodeService from '../services/node.service';\nimport ConnectionService from '../services/connection.service';\nimport PageHeader from '../components/common/PageHeader';\nimport ConnectionModal from '../components/map/ConnectionModal';\nimport DeleteConfirmModal from '../components/common/DeleteConfirmModal';\nimport './Connections.css';\n\nconst Connections = () => {\n  const [connections, setConnections] = useState([]);\n  const [nodes, setNodes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterTransportType, setFilterTransportType] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n  \n  // Modal states\n  const [showModal, setShowModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedConnection, setSelectedConnection] = useState(null);\n\n  useEffect(() => {\n    loadConnectionsData();\n  }, []);\n\n  const loadConnectionsData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const [connectionsResponse, nodesResponse] = await Promise.all([\n        ConnectionService.getAllConnections(),\n        NodeService.getAllNodes()\n      ]);\n      \n      // Enrich connections with node names\n      const enhancedConnections = connectionsResponse.data.map(connection => {\n        const source = nodesResponse.data.find(node => node.id === connection.sourceId);\n        const target = nodesResponse.data.find(node => node.id === connection.targetId);\n        \n        return {\n          ...connection,\n          sourceName: source?.name || `Node ID: ${connection.sourceId}`,\n          targetName: target?.name || `Node ID: ${connection.targetId}`\n        };\n      });\n      \n      setConnections(enhancedConnections);\n      setNodes(nodesResponse.data);\n      \n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load connections data');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n\n  const handleEdit = (connection) => {\n    setSelectedConnection(connection);\n    setShowModal(true);\n  };\n\n  const handleDelete = (connection) => {\n    setSelectedConnection(connection);\n    setShowDeleteModal(true);\n  };\n\n  const handleAddNew = () => {\n    setSelectedConnection(null);\n    setShowModal(true);\n  };\n\n  const handleModalSave = async (connectionData) => {\n    try {\n      if (connectionData.id) {\n        // Update existing connection\n        await ConnectionService.updateConnection(connectionData.id, connectionData);\n      } else {\n        // Create new connection\n        await ConnectionService.createConnection(connectionData);\n      }\n      \n      // Reload connections data\n      loadConnectionsData();\n      \n      // Close modal\n      setShowModal(false);\n    } catch (err) {\n      console.error('Failed to save connection:', err);\n      alert('Failed to save connection. Please try again.');\n    }\n  };\n\n  const handleConfirmDelete = async () => {\n    if (!selectedConnection) return;\n    \n    try {\n      await ConnectionService.deleteConnection(selectedConnection.id);\n      \n      // Remove from local state\n      setConnections(connections.filter(connection => connection.id !== selectedConnection.id));\n      \n      // Close modal\n      setShowDeleteModal(false);\n    } catch (err) {\n      console.error('Failed to delete connection:', err);\n      alert('Failed to delete connection. Please try again.');\n    }\n  };\n\n  // Apply filters and search\n  const filteredConnections = connections.filter(connection => {\n    const matchesSearch = searchTerm === '' || \n      connection.sourceName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      connection.targetName?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      connection.id.toString().includes(searchTerm);\n      \n    const matchesTransportType = filterTransportType === '' || \n      connection.transportationType === filterTransportType;\n      \n    const matchesStatus = filterStatus === '' || connection.status === filterStatus;\n    \n    return matchesSearch && matchesTransportType && matchesStatus;\n  });\n\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case 'active':\n        return <Badge bg=\"success\">Active</Badge>;\n      case 'delayed':\n        return <Badge bg=\"danger\">Delayed</Badge>;\n      case 'at_capacity':\n        return <Badge bg=\"warning\">At Capacity</Badge>;\n      case 'inactive':\n        return <Badge bg=\"secondary\">Inactive</Badge>;\n      default:\n        return <Badge bg=\"info\">{status}</Badge>;\n    }\n  };\n\n  // Show loading spinner\n  if (loading && connections.length === 0) {\n    return (\n      <Container>\n        <div className=\"text-center my-5\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n          <p className=\"mt-3\">Loading connections data...</p>\n        </div>\n      </Container>\n    );\n  }\n\n  // Show error message\n  if (error) {\n    return (\n      <Container>\n        <div className=\"my-5\">\n          <Alert variant=\"danger\">\n            <Alert.Heading>Error Loading Connections</Alert.Heading>\n            <p>{error}</p>\n            <Button variant=\"outline-danger\" onClick={loadConnectionsData}>Try Again</Button>\n          </Alert>\n        </div>\n      </Container>\n    );\n  }\n\n  return (\n    <Container fluid>\n      <PageHeader title=\"Network Connections\" />\n      \n      <Row className=\"mb-4\">\n        <Col>\n          <Card>\n            <Card.Body>\n              <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                <div className=\"d-flex align-items-center\">\n                  <Form.Group className=\"me-3\">\n                    <div className=\"position-relative\">\n                      <Form.Control\n                        type=\"text\"\n                        placeholder=\"Search connections...\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                      />\n                      <FaSearch className=\"search-icon\" />\n                    </div>\n                  </Form.Group>\n                  \n                  <Form.Group className=\"me-3\">\n                    <Form.Select\n                      value={filterTransportType}\n                      onChange={(e) => setFilterTransportType(e.target.value)}\n                      aria-label=\"Filter by Transport Type\"\n                    >\n                      <option value=\"\">All Transport Types</option>\n                      <option value=\"truck\">Truck</option>\n                      <option value=\"train\">Train</option>\n                      <option value=\"air\">Air</option>\n                      <option value=\"ship\">Ship</option>\n                    </Form.Select>\n                  </Form.Group>\n                  \n                  <Form.Group>\n                    <Form.Select\n                      value={filterStatus}\n                      onChange={(e) => setFilterStatus(e.target.value)}\n                      aria-label=\"Filter by Status\"\n                    >\n                      <option value=\"\">All Statuses</option>\n                      <option value=\"active\">Active</option>\n                      <option value=\"delayed\">Delayed</option>\n                      <option value=\"at_capacity\">At Capacity</option>\n                      <option value=\"inactive\">Inactive</option>\n                    </Form.Select>\n                  </Form.Group>\n                </div>\n                \n                <div>\n                  <Button variant=\"outline-secondary\" className=\"me-2\" onClick={loadConnectionsData}>\n                    <FaSyncAlt /> Refresh\n                  </Button>\n                  <Button variant=\"primary\" onClick={handleAddNew}>\n                    <FaPlus /> Add Connection\n                  </Button>\n                </div>\n              </div>\n              \n              <Table responsive hover>\n                <thead>\n                  <tr>\n                    <th>ID</th>\n                    <th>From</th>\n                    <th>To</th>\n                    <th>Transport Type</th>\n                    <th>Travel Time</th>\n                    <th>Distance</th>\n                    <th>Status</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredConnections.length > 0 ? (\n                    filteredConnections.map(connection => (\n                      <tr key={connection.id}>\n                        <td>{connection.id}</td>\n                        <td>\n                          <Link to={`/nodes/${connection.sourceId}`}>\n                            {connection.sourceName}\n                          </Link>\n                        </td>\n                        <td>\n                          <Link to={`/nodes/${connection.targetId}`}>\n                            {connection.targetName}\n                          </Link>\n                        </td>\n                        <td>{connection.transportationType || 'Not specified'}</td>\n                        <td>{connection.travelTime ? `${connection.travelTime} hours` : 'Not specified'}</td>\n                        <td>{connection.distance ? `${connection.distance} km` : 'Not specified'}</td>\n                        <td>{getStatusBadge(connection.status)}</td>\n                        <td>\n                          <Button \n                            variant=\"outline-primary\" \n                            size=\"sm\"\n                            className=\"me-1\"\n                            onClick={() => handleEdit(connection)}\n                            title=\"Edit\"\n                          >\n                            <FaEdit />\n                          </Button>\n                          <Button \n                            variant=\"outline-danger\" \n                            size=\"sm\"\n                            onClick={() => handleDelete(connection)}\n                            title=\"Delete\"\n                          >\n                            <FaTrashAlt />\n                          </Button>\n                        </td>\n                      </tr>\n                    ))\n                  ) : (\n                    <tr>\n                      <td colSpan=\"8\" className=\"text-center py-4\">\n                        No connections found. Adjust your filters or add a new connection.\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </Table>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n      \n      {/* Connection Modal */}\n      <ConnectionModal\n        show={showModal}\n        onHide={() => setShowModal(false)}\n        connection={selectedConnection}\n        nodes={nodes}\n        onSave={handleModalSave}\n        isNew={!selectedConnection}\n      />\n      \n      {/* Delete Confirmation Modal */}\n      <DeleteConfirmModal\n        show={showDeleteModal}\n        onHide={() => setShowDeleteModal(false)}\n        onConfirm={handleConfirmDelete}\n        title=\"Delete Connection\"\n        message={`Are you sure you want to delete this connection? This action cannot be undone.`}\n      />\n    </Container>\n  );\n};\n\nexport default Connections;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}