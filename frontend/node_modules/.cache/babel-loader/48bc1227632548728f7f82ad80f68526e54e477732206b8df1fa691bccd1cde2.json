{"ast":null,"code":"var _jsxFileName = \"/Users/mariarodriguez/Desktop/supply-chain-visualizer/frontend/src/pages/Profile.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/Profile.js\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Container, Row, Col, Card, Form, Button, Alert, Spinner } from 'react-bootstrap';\nimport { FaUserCircle, FaKey, FaEnvelope, FaSignOutAlt } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport UserService from '../services/user.service';\nimport AuthService from '../services/auth.service';\nimport PageHeader from '../components/common/PageHeader';\nimport './Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  var _userDetails$role;\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [userDetails, setUserDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Form states\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: ''\n  });\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const [updateSuccess, setUpdateSuccess] = useState(false);\n  const [updateError, setUpdateError] = useState(null);\n  const [passwordSuccess, setPasswordSuccess] = useState(false);\n  const [passwordError, setPasswordError] = useState(null);\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n    loadUserDetails();\n  }, [currentUser, navigate]);\n  const loadUserDetails = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await UserService.getUserDetails();\n      setUserDetails(response.data);\n\n      // Initialize form with user details\n      setFormData({\n        firstName: response.data.firstName || '',\n        lastName: response.data.lastName || '',\n        email: response.data.email || ''\n      });\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load user details');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n  const handleUpdateProfile = async e => {\n    e.preventDefault();\n    try {\n      setUpdateError(null);\n      setUpdateSuccess(false);\n      await UserService.updateUserProfile(formData);\n\n      // Update local state and context\n      setUserDetails({\n        ...userDetails,\n        ...formData\n      });\n\n      // Update current user in context\n      if (currentUser) {\n        setCurrentUser({\n          ...currentUser,\n          email: formData.email\n        });\n      }\n      setUpdateSuccess(true);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to update profile';\n      setUpdateError(errorMessage);\n      console.error(err);\n    }\n  };\n  const handleChangePassword = async e => {\n    e.preventDefault();\n    try {\n      setPasswordError(null);\n      setPasswordSuccess(false);\n\n      // Validate passwords match\n      if (passwordData.newPassword !== passwordData.confirmPassword) {\n        setPasswordError('New passwords do not match');\n        return;\n      }\n      await UserService.changePassword(passwordData);\n\n      // Reset password form\n      setPasswordData({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      });\n      setPasswordSuccess(true);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      const errorMessage = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to change password';\n      setPasswordError(errorMessage);\n      console.error(err);\n    }\n  };\n  const handleLogout = () => {\n    AuthService.logout();\n    setCurrentUser(null);\n    navigate('/login');\n  };\n  const handleProfileChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handlePasswordChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPasswordData({\n      ...passwordData,\n      [name]: value\n    });\n  };\n\n  // Show loading spinner\n  if (loading && !userDetails) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center my-5\",\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3\",\n          children: \"Loading profile...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show error message\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-5\",\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n            children: \"Error Loading Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-danger\",\n            onClick: loadUserDetails,\n            children: \"Try Again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Your Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: 4,\n        md: 5,\n        className: \"mb-4 mb-md-0\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"text-center p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-avatar\",\n              children: /*#__PURE__*/_jsxDEV(FaUserCircle, {\n                size: 80\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mt-3\",\n              children: userDetails === null || userDetails === void 0 ? void 0 : userDetails.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-1\",\n              children: userDetails === null || userDetails === void 0 ? void 0 : (_userDetails$role = userDetails.role) === null || _userDetails$role === void 0 ? void 0 : _userDetails$role.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(FaEnvelope, {\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), userDetails === null || userDetails === void 0 ? void 0 : userDetails.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-stats\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: userDetails !== null && userDetails !== void 0 && userDetails.createdAt ? new Date(userDetails.createdAt).toLocaleDateString() : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Member Since\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-danger\",\n                onClick: handleLogout,\n                className: \"d-flex align-items-center mx-auto\",\n                children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this), \" Sign Out\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: 8,\n        md: 7,\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: \"Profile Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [updateSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"success\",\n              dismissible: true,\n              onClose: () => setUpdateSuccess(false),\n              children: \"Profile updated successfully!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), updateError && /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              dismissible: true,\n              onClose: () => setUpdateError(null),\n              children: updateError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleUpdateProfile,\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"First Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      name: \"firstName\",\n                      value: formData.firstName,\n                      onChange: handleProfileChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Last Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      name: \"lastName\",\n                      value: formData.lastName,\n                      onChange: handleProfileChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"email\",\n                  name: \"email\",\n                  value: formData.email,\n                  onChange: handleProfileChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  value: (userDetails === null || userDetails === void 0 ? void 0 : userDetails.username) || '',\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                  className: \"text-muted\",\n                  children: \"Username cannot be changed.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"primary\",\n                children: \"Save Changes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [passwordSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"success\",\n              dismissible: true,\n              onClose: () => setPasswordSuccess(false),\n              children: \"Password changed successfully!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), passwordError && /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"danger\",\n              dismissible: true,\n              onClose: () => setPasswordError(null),\n              children: passwordError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleChangePassword,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Current Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"password\",\n                  name: \"currentPassword\",\n                  value: passwordData.currentPassword,\n                  onChange: handlePasswordChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"New Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"password\",\n                      name: \"newPassword\",\n                      value: passwordData.newPassword,\n                      onChange: handlePasswordChange,\n                      required: true,\n                      minLength: \"6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                      className: \"text-muted\",\n                      children: \"Password must be at least 6 characters long.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Confirm New Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"password\",\n                      name: \"confirmPassword\",\n                      value: passwordData.confirmPassword,\n                      onChange: handlePasswordChange,\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"primary\",\n                children: [/*#__PURE__*/_jsxDEV(FaKey, {\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 19\n                }, this), \" Change Password\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"GcyVzcyJ2f5x6AV2Ek23evHUD/g=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Container","Row","Col","Card","Form","Button","Alert","Spinner","FaUserCircle","FaKey","FaEnvelope","FaSignOutAlt","useNavigate","AuthContext","UserService","AuthService","PageHeader","jsxDEV","_jsxDEV","Profile","_s","_userDetails$role","currentUser","setCurrentUser","navigate","userDetails","setUserDetails","loading","setLoading","error","setError","formData","setFormData","firstName","lastName","email","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","updateSuccess","setUpdateSuccess","updateError","setUpdateError","passwordSuccess","setPasswordSuccess","passwordError","setPasswordError","loadUserDetails","response","getUserDetails","data","err","console","handleUpdateProfile","e","preventDefault","updateUserProfile","_err$response","_err$response$data","errorMessage","message","handleChangePassword","changePassword","_err$response2","_err$response2$data","handleLogout","logout","handleProfileChange","name","value","target","handlePasswordChange","children","className","animation","role","fileName","_jsxFileName","lineNumber","columnNumber","variant","Heading","onClick","title","lg","md","Body","size","username","toUpperCase","createdAt","Date","toLocaleDateString","Header","dismissible","onClose","onSubmit","Group","Label","Control","type","onChange","disabled","Text","required","minLength","_c","$RefreshReg$"],"sources":["/Users/mariarodriguez/Desktop/supply-chain-visualizer/frontend/src/pages/Profile.js"],"sourcesContent":["// frontend/src/pages/Profile.js\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Container, Row, Col, Card, Form, Button, Alert, Spinner } from 'react-bootstrap';\nimport { FaUserCircle, FaKey, FaEnvelope, FaSignOutAlt } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport UserService from '../services/user.service';\nimport AuthService from '../services/auth.service';\nimport PageHeader from '../components/common/PageHeader';\nimport './Profile.css';\n\nconst Profile = () => {\n  const { currentUser, setCurrentUser } = useContext(AuthContext);\n  const navigate = useNavigate();\n  \n  const [userDetails, setUserDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Form states\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: ''\n  });\n  \n  const [passwordData, setPasswordData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  \n  const [updateSuccess, setUpdateSuccess] = useState(false);\n  const [updateError, setUpdateError] = useState(null);\n  \n  const [passwordSuccess, setPasswordSuccess] = useState(false);\n  const [passwordError, setPasswordError] = useState(null);\n  \n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n    \n    loadUserDetails();\n  }, [currentUser, navigate]);\n\n  const loadUserDetails = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await UserService.getUserDetails();\n      setUserDetails(response.data);\n      \n      // Initialize form with user details\n      setFormData({\n        firstName: response.data.firstName || '',\n        lastName: response.data.lastName || '',\n        email: response.data.email || ''\n      });\n      \n      setLoading(false);\n    } catch (err) {\n      setError('Failed to load user details');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n\n  const handleUpdateProfile = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setUpdateError(null);\n      setUpdateSuccess(false);\n      \n      await UserService.updateUserProfile(formData);\n      \n      // Update local state and context\n      setUserDetails({\n        ...userDetails,\n        ...formData\n      });\n      \n      // Update current user in context\n      if (currentUser) {\n        setCurrentUser({\n          ...currentUser,\n          email: formData.email\n        });\n      }\n      \n      setUpdateSuccess(true);\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to update profile';\n      setUpdateError(errorMessage);\n      console.error(err);\n    }\n  };\n\n  const handleChangePassword = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setPasswordError(null);\n      setPasswordSuccess(false);\n      \n      // Validate passwords match\n      if (passwordData.newPassword !== passwordData.confirmPassword) {\n        setPasswordError('New passwords do not match');\n        return;\n      }\n      \n      await UserService.changePassword(passwordData);\n      \n      // Reset password form\n      setPasswordData({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      });\n      \n      setPasswordSuccess(true);\n    } catch (err) {\n      const errorMessage = err.response?.data?.message || 'Failed to change password';\n      setPasswordError(errorMessage);\n      console.error(err);\n    }\n  };\n\n  const handleLogout = () => {\n    AuthService.logout();\n    setCurrentUser(null);\n    navigate('/login');\n  };\n\n  const handleProfileChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n\n  const handlePasswordChange = (e) => {\n    const { name, value } = e.target;\n    setPasswordData({\n      ...passwordData,\n      [name]: value\n    });\n  };\n\n  // Show loading spinner\n  if (loading && !userDetails) {\n    return (\n      <Container>\n        <div className=\"text-center my-5\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n          <p className=\"mt-3\">Loading profile...</p>\n        </div>\n      </Container>\n    );\n  }\n\n  // Show error message\n  if (error) {\n    return (\n      <Container>\n        <div className=\"my-5\">\n          <Alert variant=\"danger\">\n            <Alert.Heading>Error Loading Profile</Alert.Heading>\n            <p>{error}</p>\n            <Button variant=\"outline-danger\" onClick={loadUserDetails}>Try Again</Button>\n          </Alert>\n        </div>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <PageHeader title=\"Your Profile\" />\n      \n      <Row>\n        <Col lg={4} md={5} className=\"mb-4 mb-md-0\">\n          <Card>\n            <Card.Body className=\"text-center p-4\">\n              <div className=\"profile-avatar\">\n                <FaUserCircle size={80} />\n              </div>\n              <h5 className=\"mt-3\">{userDetails?.username}</h5>\n              <p className=\"text-muted mb-1\">{userDetails?.role?.toUpperCase()}</p>\n              <p className=\"text-muted mb-3\">\n                <FaEnvelope className=\"me-2\" />\n                {userDetails?.email}\n              </p>\n              \n              <div className=\"profile-stats\">\n                <div className=\"stat-item\">\n                  <span className=\"stat-value\">\n                    {userDetails?.createdAt \n                      ? new Date(userDetails.createdAt).toLocaleDateString() \n                      : '-'}\n                  </span>\n                  <span className=\"stat-label\">Member Since</span>\n                </div>\n              </div>\n              \n              <div className=\"mt-4\">\n                <Button \n                  variant=\"outline-danger\" \n                  onClick={handleLogout}\n                  className=\"d-flex align-items-center mx-auto\"\n                >\n                  <FaSignOutAlt className=\"me-2\" /> Sign Out\n                </Button>\n              </div>\n            </Card.Body>\n          </Card>\n        </Col>\n        \n        <Col lg={8} md={7}>\n          <Card className=\"mb-4\">\n            <Card.Header>\n              <h5 className=\"mb-0\">Profile Information</h5>\n            </Card.Header>\n            <Card.Body>\n              {updateSuccess && (\n                <Alert variant=\"success\" dismissible onClose={() => setUpdateSuccess(false)}>\n                  Profile updated successfully!\n                </Alert>\n              )}\n              \n              {updateError && (\n                <Alert variant=\"danger\" dismissible onClose={() => setUpdateError(null)}>\n                  {updateError}\n                </Alert>\n              )}\n              \n              <Form onSubmit={handleUpdateProfile}>\n                <Row>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>First Name</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        name=\"firstName\"\n                        value={formData.firstName}\n                        onChange={handleProfileChange}\n                      />\n                    </Form.Group>\n                  </Col>\n                  \n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Last Name</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        name=\"lastName\"\n                        value={formData.lastName}\n                        onChange={handleProfileChange}\n                      />\n                    </Form.Group>\n                  </Col>\n                </Row>\n                \n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Email</Form.Label>\n                  <Form.Control\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleProfileChange}\n                  />\n                </Form.Group>\n                \n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Username</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    value={userDetails?.username || ''}\n                    disabled\n                  />\n                  <Form.Text className=\"text-muted\">\n                    Username cannot be changed.\n                  </Form.Text>\n                </Form.Group>\n                \n                <Button type=\"submit\" variant=\"primary\">\n                  Save Changes\n                </Button>\n              </Form>\n            </Card.Body>\n          </Card>\n          \n          <Card>\n            <Card.Header>\n              <h5 className=\"mb-0\">Change Password</h5>\n            </Card.Header>\n            <Card.Body>\n              {passwordSuccess && (\n                <Alert variant=\"success\" dismissible onClose={() => setPasswordSuccess(false)}>\n                  Password changed successfully!\n                </Alert>\n              )}\n              \n              {passwordError && (\n                <Alert variant=\"danger\" dismissible onClose={() => setPasswordError(null)}>\n                  {passwordError}\n                </Alert>\n              )}\n              \n              <Form onSubmit={handleChangePassword}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Current Password</Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"currentPassword\"\n                    value={passwordData.currentPassword}\n                    onChange={handlePasswordChange}\n                    required\n                  />\n                </Form.Group>\n                \n                <Row>\n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>New Password</Form.Label>\n                      <Form.Control\n                        type=\"password\"\n                        name=\"newPassword\"\n                        value={passwordData.newPassword}\n                        onChange={handlePasswordChange}\n                        required\n                        minLength=\"6\"\n                      />\n                      <Form.Text className=\"text-muted\">\n                        Password must be at least 6 characters long.\n                      </Form.Text>\n                    </Form.Group>\n                  </Col>\n                  \n                  <Col md={6}>\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Confirm New Password</Form.Label>\n                      <Form.Control\n                        type=\"password\"\n                        name=\"confirmPassword\"\n                        value={passwordData.confirmPassword}\n                        onChange={handlePasswordChange}\n                        required\n                      />\n                    </Form.Group>\n                  </Col>\n                </Row>\n                \n                <Button type=\"submit\" variant=\"primary\">\n                  <FaKey className=\"me-2\" /> Change Password\n                </Button>\n              </Form>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Profile;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAAEC,OAAO,QAAQ,iBAAiB;AACzF,SAASC,YAAY,EAAEC,KAAK,EAAEC,UAAU,EAAEC,YAAY,QAAQ,gBAAgB;AAC9E,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,UAAU,MAAM,iCAAiC;AACxD,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,iBAAA;EACpB,MAAM;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGzB,UAAU,CAACe,WAAW,CAAC;EAC/D,MAAMW,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC8B,OAAO,EAAEC,UAAU,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgC,KAAK,EAAEC,QAAQ,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC;IACvCoC,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE;EACT,CAAC,CAAC;EAEF,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGxC,QAAQ,CAAC;IAC/CyC,eAAe,EAAE,EAAE;IACnBC,WAAW,EAAE,EAAE;IACfC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG7C,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAAC8C,WAAW,EAAEC,cAAc,CAAC,GAAG/C,QAAQ,CAAC,IAAI,CAAC;EAEpD,MAAM,CAACgD,eAAe,EAAEC,kBAAkB,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACkD,aAAa,EAAEC,gBAAgB,CAAC,GAAGnD,QAAQ,CAAC,IAAI,CAAC;EAExDE,SAAS,CAAC,MAAM;IACd,IAAI,CAACuB,WAAW,EAAE;MAChBE,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IAEAyB,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAAC3B,WAAW,EAAEE,QAAQ,CAAC,CAAC;EAE3B,MAAMyB,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACFrB,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAMoB,QAAQ,GAAG,MAAMpC,WAAW,CAACqC,cAAc,CAAC,CAAC;MACnDzB,cAAc,CAACwB,QAAQ,CAACE,IAAI,CAAC;;MAE7B;MACApB,WAAW,CAAC;QACVC,SAAS,EAAEiB,QAAQ,CAACE,IAAI,CAACnB,SAAS,IAAI,EAAE;QACxCC,QAAQ,EAAEgB,QAAQ,CAACE,IAAI,CAAClB,QAAQ,IAAI,EAAE;QACtCC,KAAK,EAAEe,QAAQ,CAACE,IAAI,CAACjB,KAAK,IAAI;MAChC,CAAC,CAAC;MAEFP,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACZvB,QAAQ,CAAC,6BAA6B,CAAC;MACvCF,UAAU,CAAC,KAAK,CAAC;MACjB0B,OAAO,CAACzB,KAAK,CAACwB,GAAG,CAAC;IACpB;EACF,CAAC;EAED,MAAME,mBAAmB,GAAG,MAAOC,CAAC,IAAK;IACvCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI;MACFb,cAAc,CAAC,IAAI,CAAC;MACpBF,gBAAgB,CAAC,KAAK,CAAC;MAEvB,MAAM5B,WAAW,CAAC4C,iBAAiB,CAAC3B,QAAQ,CAAC;;MAE7C;MACAL,cAAc,CAAC;QACb,GAAGD,WAAW;QACd,GAAGM;MACL,CAAC,CAAC;;MAEF;MACA,IAAIT,WAAW,EAAE;QACfC,cAAc,CAAC;UACb,GAAGD,WAAW;UACda,KAAK,EAAEJ,QAAQ,CAACI;QAClB,CAAC,CAAC;MACJ;MAEAO,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOW,GAAG,EAAE;MAAA,IAAAM,aAAA,EAAAC,kBAAA;MACZ,MAAMC,YAAY,GAAG,EAAAF,aAAA,GAAAN,GAAG,CAACH,QAAQ,cAAAS,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcP,IAAI,cAAAQ,kBAAA,uBAAlBA,kBAAA,CAAoBE,OAAO,KAAI,0BAA0B;MAC9ElB,cAAc,CAACiB,YAAY,CAAC;MAC5BP,OAAO,CAACzB,KAAK,CAACwB,GAAG,CAAC;IACpB;EACF,CAAC;EAED,MAAMU,oBAAoB,GAAG,MAAOP,CAAC,IAAK;IACxCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI;MACFT,gBAAgB,CAAC,IAAI,CAAC;MACtBF,kBAAkB,CAAC,KAAK,CAAC;;MAEzB;MACA,IAAIV,YAAY,CAACG,WAAW,KAAKH,YAAY,CAACI,eAAe,EAAE;QAC7DQ,gBAAgB,CAAC,4BAA4B,CAAC;QAC9C;MACF;MAEA,MAAMlC,WAAW,CAACkD,cAAc,CAAC5B,YAAY,CAAC;;MAE9C;MACAC,eAAe,CAAC;QACdC,eAAe,EAAE,EAAE;QACnBC,WAAW,EAAE,EAAE;QACfC,eAAe,EAAE;MACnB,CAAC,CAAC;MAEFM,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOO,GAAG,EAAE;MAAA,IAAAY,cAAA,EAAAC,mBAAA;MACZ,MAAML,YAAY,GAAG,EAAAI,cAAA,GAAAZ,GAAG,CAACH,QAAQ,cAAAe,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcb,IAAI,cAAAc,mBAAA,uBAAlBA,mBAAA,CAAoBJ,OAAO,KAAI,2BAA2B;MAC/Ed,gBAAgB,CAACa,YAAY,CAAC;MAC9BP,OAAO,CAACzB,KAAK,CAACwB,GAAG,CAAC;IACpB;EACF,CAAC;EAED,MAAMc,YAAY,GAAGA,CAAA,KAAM;IACzBpD,WAAW,CAACqD,MAAM,CAAC,CAAC;IACpB7C,cAAc,CAAC,IAAI,CAAC;IACpBC,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAM6C,mBAAmB,GAAIb,CAAC,IAAK;IACjC,MAAM;MAAEc,IAAI;MAAEC;IAAM,CAAC,GAAGf,CAAC,CAACgB,MAAM;IAChCxC,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAACuC,IAAI,GAAGC;IACV,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,oBAAoB,GAAIjB,CAAC,IAAK;IAClC,MAAM;MAAEc,IAAI;MAAEC;IAAM,CAAC,GAAGf,CAAC,CAACgB,MAAM;IAChCnC,eAAe,CAAC;MACd,GAAGD,YAAY;MACf,CAACkC,IAAI,GAAGC;IACV,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,IAAI5C,OAAO,IAAI,CAACF,WAAW,EAAE;IAC3B,oBACEP,OAAA,CAAClB,SAAS;MAAA0E,QAAA,eACRxD,OAAA;QAAKyD,SAAS,EAAC,kBAAkB;QAAAD,QAAA,gBAC/BxD,OAAA,CAACX,OAAO;UAACqE,SAAS,EAAC,QAAQ;UAACC,IAAI,EAAC,QAAQ;UAAAH,QAAA,eACvCxD,OAAA;YAAMyD,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAAC;UAAU;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC,eACV/D,OAAA;UAAGyD,SAAS,EAAC,MAAM;UAAAD,QAAA,EAAC;QAAkB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAEhB;;EAEA;EACA,IAAIpD,KAAK,EAAE;IACT,oBACEX,OAAA,CAAClB,SAAS;MAAA0E,QAAA,eACRxD,OAAA;QAAKyD,SAAS,EAAC,MAAM;QAAAD,QAAA,eACnBxD,OAAA,CAACZ,KAAK;UAAC4E,OAAO,EAAC,QAAQ;UAAAR,QAAA,gBACrBxD,OAAA,CAACZ,KAAK,CAAC6E,OAAO;YAAAT,QAAA,EAAC;UAAqB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAe,CAAC,eACpD/D,OAAA;YAAAwD,QAAA,EAAI7C;UAAK;YAAAiD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACd/D,OAAA,CAACb,MAAM;YAAC6E,OAAO,EAAC,gBAAgB;YAACE,OAAO,EAAEnC,eAAgB;YAAAyB,QAAA,EAAC;UAAS;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAEhB;EAEA,oBACE/D,OAAA,CAAClB,SAAS;IAAA0E,QAAA,gBACRxD,OAAA,CAACF,UAAU;MAACqE,KAAK,EAAC;IAAc;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEnC/D,OAAA,CAACjB,GAAG;MAAAyE,QAAA,gBACFxD,OAAA,CAAChB,GAAG;QAACoF,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAACZ,SAAS,EAAC,cAAc;QAAAD,QAAA,eACzCxD,OAAA,CAACf,IAAI;UAAAuE,QAAA,eACHxD,OAAA,CAACf,IAAI,CAACqF,IAAI;YAACb,SAAS,EAAC,iBAAiB;YAAAD,QAAA,gBACpCxD,OAAA;cAAKyD,SAAS,EAAC,gBAAgB;cAAAD,QAAA,eAC7BxD,OAAA,CAACV,YAAY;gBAACiF,IAAI,EAAE;cAAG;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvB,CAAC,eACN/D,OAAA;cAAIyD,SAAS,EAAC,MAAM;cAAAD,QAAA,EAAEjD,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEiE;YAAQ;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjD/D,OAAA;cAAGyD,SAAS,EAAC,iBAAiB;cAAAD,QAAA,EAAEjD,WAAW,aAAXA,WAAW,wBAAAJ,iBAAA,GAAXI,WAAW,CAAEoD,IAAI,cAAAxD,iBAAA,uBAAjBA,iBAAA,CAAmBsE,WAAW,CAAC;YAAC;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrE/D,OAAA;cAAGyD,SAAS,EAAC,iBAAiB;cAAAD,QAAA,gBAC5BxD,OAAA,CAACR,UAAU;gBAACiE,SAAS,EAAC;cAAM;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAC9BxD,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEU,KAAK;YAAA;cAAA2C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CAAC,eAEJ/D,OAAA;cAAKyD,SAAS,EAAC,eAAe;cAAAD,QAAA,eAC5BxD,OAAA;gBAAKyD,SAAS,EAAC,WAAW;gBAAAD,QAAA,gBACxBxD,OAAA;kBAAMyD,SAAS,EAAC,YAAY;kBAAAD,QAAA,EACzBjD,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAEmE,SAAS,GACnB,IAAIC,IAAI,CAACpE,WAAW,CAACmE,SAAS,CAAC,CAACE,kBAAkB,CAAC,CAAC,GACpD;gBAAG;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACP/D,OAAA;kBAAMyD,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAC;gBAAY;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7C;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEN/D,OAAA;cAAKyD,SAAS,EAAC,MAAM;cAAAD,QAAA,eACnBxD,OAAA,CAACb,MAAM;gBACL6E,OAAO,EAAC,gBAAgB;gBACxBE,OAAO,EAAEjB,YAAa;gBACtBQ,SAAS,EAAC,mCAAmC;gBAAAD,QAAA,gBAE7CxD,OAAA,CAACP,YAAY;kBAACgE,SAAS,EAAC;gBAAM;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,aACnC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAEN/D,OAAA,CAAChB,GAAG;QAACoF,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAAb,QAAA,gBAChBxD,OAAA,CAACf,IAAI;UAACwE,SAAS,EAAC,MAAM;UAAAD,QAAA,gBACpBxD,OAAA,CAACf,IAAI,CAAC4F,MAAM;YAAArB,QAAA,eACVxD,OAAA;cAAIyD,SAAS,EAAC,MAAM;cAAAD,QAAA,EAAC;YAAmB;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC,eACd/D,OAAA,CAACf,IAAI,CAACqF,IAAI;YAAAd,QAAA,GACPjC,aAAa,iBACZvB,OAAA,CAACZ,KAAK;cAAC4E,OAAO,EAAC,SAAS;cAACc,WAAW;cAACC,OAAO,EAAEA,CAAA,KAAMvD,gBAAgB,CAAC,KAAK,CAAE;cAAAgC,QAAA,EAAC;YAE7E;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CACR,EAEAtC,WAAW,iBACVzB,OAAA,CAACZ,KAAK;cAAC4E,OAAO,EAAC,QAAQ;cAACc,WAAW;cAACC,OAAO,EAAEA,CAAA,KAAMrD,cAAc,CAAC,IAAI,CAAE;cAAA8B,QAAA,EACrE/B;YAAW;cAAAmC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CACR,eAED/D,OAAA,CAACd,IAAI;cAAC8F,QAAQ,EAAE3C,mBAAoB;cAAAmB,QAAA,gBAClCxD,OAAA,CAACjB,GAAG;gBAAAyE,QAAA,gBACFxD,OAAA,CAAChB,GAAG;kBAACqF,EAAE,EAAE,CAAE;kBAAAb,QAAA,eACTxD,OAAA,CAACd,IAAI,CAAC+F,KAAK;oBAACxB,SAAS,EAAC,MAAM;oBAAAD,QAAA,gBAC1BxD,OAAA,CAACd,IAAI,CAACgG,KAAK;sBAAA1B,QAAA,EAAC;oBAAU;sBAAAI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eACnC/D,OAAA,CAACd,IAAI,CAACiG,OAAO;sBACXC,IAAI,EAAC,MAAM;sBACXhC,IAAI,EAAC,WAAW;sBAChBC,KAAK,EAAExC,QAAQ,CAACE,SAAU;sBAC1BsE,QAAQ,EAAElC;oBAAoB;sBAAAS,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC/B,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV,CAAC,eAEN/D,OAAA,CAAChB,GAAG;kBAACqF,EAAE,EAAE,CAAE;kBAAAb,QAAA,eACTxD,OAAA,CAACd,IAAI,CAAC+F,KAAK;oBAACxB,SAAS,EAAC,MAAM;oBAAAD,QAAA,gBAC1BxD,OAAA,CAACd,IAAI,CAACgG,KAAK;sBAAA1B,QAAA,EAAC;oBAAS;sBAAAI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eAClC/D,OAAA,CAACd,IAAI,CAACiG,OAAO;sBACXC,IAAI,EAAC,MAAM;sBACXhC,IAAI,EAAC,UAAU;sBACfC,KAAK,EAAExC,QAAQ,CAACG,QAAS;sBACzBqE,QAAQ,EAAElC;oBAAoB;sBAAAS,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC/B,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN/D,OAAA,CAACd,IAAI,CAAC+F,KAAK;gBAACxB,SAAS,EAAC,MAAM;gBAAAD,QAAA,gBAC1BxD,OAAA,CAACd,IAAI,CAACgG,KAAK;kBAAA1B,QAAA,EAAC;gBAAK;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eAC9B/D,OAAA,CAACd,IAAI,CAACiG,OAAO;kBACXC,IAAI,EAAC,OAAO;kBACZhC,IAAI,EAAC,OAAO;kBACZC,KAAK,EAAExC,QAAQ,CAACI,KAAM;kBACtBoE,QAAQ,EAAElC;gBAAoB;kBAAAS,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC,eAEb/D,OAAA,CAACd,IAAI,CAAC+F,KAAK;gBAACxB,SAAS,EAAC,MAAM;gBAAAD,QAAA,gBAC1BxD,OAAA,CAACd,IAAI,CAACgG,KAAK;kBAAA1B,QAAA,EAAC;gBAAQ;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACjC/D,OAAA,CAACd,IAAI,CAACiG,OAAO;kBACXC,IAAI,EAAC,MAAM;kBACX/B,KAAK,EAAE,CAAA9C,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEiE,QAAQ,KAAI,EAAG;kBACnCc,QAAQ;gBAAA;kBAAA1B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC,eACF/D,OAAA,CAACd,IAAI,CAACqG,IAAI;kBAAC9B,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAC;gBAElC;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAW,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC,eAEb/D,OAAA,CAACb,MAAM;gBAACiG,IAAI,EAAC,QAAQ;gBAACpB,OAAO,EAAC,SAAS;gBAAAR,QAAA,EAAC;cAExC;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eAEP/D,OAAA,CAACf,IAAI;UAAAuE,QAAA,gBACHxD,OAAA,CAACf,IAAI,CAAC4F,MAAM;YAAArB,QAAA,eACVxD,OAAA;cAAIyD,SAAS,EAAC,MAAM;cAAAD,QAAA,EAAC;YAAe;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC,eACd/D,OAAA,CAACf,IAAI,CAACqF,IAAI;YAAAd,QAAA,GACP7B,eAAe,iBACd3B,OAAA,CAACZ,KAAK;cAAC4E,OAAO,EAAC,SAAS;cAACc,WAAW;cAACC,OAAO,EAAEA,CAAA,KAAMnD,kBAAkB,CAAC,KAAK,CAAE;cAAA4B,QAAA,EAAC;YAE/E;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CACR,EAEAlC,aAAa,iBACZ7B,OAAA,CAACZ,KAAK;cAAC4E,OAAO,EAAC,QAAQ;cAACc,WAAW;cAACC,OAAO,EAAEA,CAAA,KAAMjD,gBAAgB,CAAC,IAAI,CAAE;cAAA0B,QAAA,EACvE3B;YAAa;cAAA+B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CACR,eAED/D,OAAA,CAACd,IAAI;cAAC8F,QAAQ,EAAEnC,oBAAqB;cAAAW,QAAA,gBACnCxD,OAAA,CAACd,IAAI,CAAC+F,KAAK;gBAACxB,SAAS,EAAC,MAAM;gBAAAD,QAAA,gBAC1BxD,OAAA,CAACd,IAAI,CAACgG,KAAK;kBAAA1B,QAAA,EAAC;gBAAgB;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACzC/D,OAAA,CAACd,IAAI,CAACiG,OAAO;kBACXC,IAAI,EAAC,UAAU;kBACfhC,IAAI,EAAC,iBAAiB;kBACtBC,KAAK,EAAEnC,YAAY,CAACE,eAAgB;kBACpCiE,QAAQ,EAAE9B,oBAAqB;kBAC/BiC,QAAQ;gBAAA;kBAAA5B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC,eAEb/D,OAAA,CAACjB,GAAG;gBAAAyE,QAAA,gBACFxD,OAAA,CAAChB,GAAG;kBAACqF,EAAE,EAAE,CAAE;kBAAAb,QAAA,eACTxD,OAAA,CAACd,IAAI,CAAC+F,KAAK;oBAACxB,SAAS,EAAC,MAAM;oBAAAD,QAAA,gBAC1BxD,OAAA,CAACd,IAAI,CAACgG,KAAK;sBAAA1B,QAAA,EAAC;oBAAY;sBAAAI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eACrC/D,OAAA,CAACd,IAAI,CAACiG,OAAO;sBACXC,IAAI,EAAC,UAAU;sBACfhC,IAAI,EAAC,aAAa;sBAClBC,KAAK,EAAEnC,YAAY,CAACG,WAAY;sBAChCgE,QAAQ,EAAE9B,oBAAqB;sBAC/BiC,QAAQ;sBACRC,SAAS,EAAC;oBAAG;sBAAA7B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACd,CAAC,eACF/D,OAAA,CAACd,IAAI,CAACqG,IAAI;sBAAC9B,SAAS,EAAC,YAAY;sBAAAD,QAAA,EAAC;oBAElC;sBAAAI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAW,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACF;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV,CAAC,eAEN/D,OAAA,CAAChB,GAAG;kBAACqF,EAAE,EAAE,CAAE;kBAAAb,QAAA,eACTxD,OAAA,CAACd,IAAI,CAAC+F,KAAK;oBAACxB,SAAS,EAAC,MAAM;oBAAAD,QAAA,gBAC1BxD,OAAA,CAACd,IAAI,CAACgG,KAAK;sBAAA1B,QAAA,EAAC;oBAAoB;sBAAAI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eAC7C/D,OAAA,CAACd,IAAI,CAACiG,OAAO;sBACXC,IAAI,EAAC,UAAU;sBACfhC,IAAI,EAAC,iBAAiB;sBACtBC,KAAK,EAAEnC,YAAY,CAACI,eAAgB;sBACpC+D,QAAQ,EAAE9B,oBAAqB;sBAC/BiC,QAAQ;oBAAA;sBAAA5B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACT,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN/D,OAAA,CAACb,MAAM;gBAACiG,IAAI,EAAC,QAAQ;gBAACpB,OAAO,EAAC,SAAS;gBAAAR,QAAA,gBACrCxD,OAAA,CAACT,KAAK;kBAACkE,SAAS,EAAC;gBAAM;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,oBAC5B;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEhB,CAAC;AAAC7D,EAAA,CAtWID,OAAO;EAAA,QAEMP,WAAW;AAAA;AAAAgG,EAAA,GAFxBzF,OAAO;AAwWb,eAAeA,OAAO;AAAC,IAAAyF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}